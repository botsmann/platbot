# Telegram бот для контроля чистоты ресторана

Бот для управления задачами по уборке ресторана с двумя ролями: менеджер и исполнитель.

## Установка

1. Создайте виртуальное окружение (рекомендуется):
```bash
python3 -m venv venv
source venv/bin/activate  # На macOS/Linux
# или
venv\Scripts\activate  # На Windows
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```


## Запуск

### Вариант 1: Использование скрипта (рекомендуется)
```bash
./run.sh
```

### Вариант 2: Ручной запуск
Убедитесь, что виртуальное окружение активировано, затем:
```bash
source venv/bin/activate  # Активировать виртуальное окружение
python main.py
```

**Важно:** Всегда активируйте виртуальное окружение перед запуском, иначе возникнет ошибка `ModuleNotFoundError: No module named 'telegram'`

## Функционал

### Роль: Исполнитель (доступна всем)
- Просмотр новых задач
- Выполнение задач (прикрепление фото "после")
- Получение уведомлений о задачах, требующих переделки

### Роль: Менеджер (требуется код доступа: 1272)
- Создание задач с фото и комментариями
- Просмотр всех задач
- Проверка выполненных задач (просмотр фото до/после)
- Утверждение задач или отправка на переделку

## Структура проекта

- `main.py` - точка входа, запуск бота
- `handlers.py` - обработчики команд и сообщений
- `database.py` - работа с базой данных SQLite
- `config.py` - конфигурация (токен, код доступа)
- `requirements.txt` - зависимости проекта
- `photos/` - директория для хранения фотографий (создается автоматически)
- `restaurant_cleaner.db` - база данных SQLite (создается автоматически)

## Использование

1. Запустите бота командой `/start`
2. Для получения прав менеджера нажмите "Стать менеджером" и введите код
3. Менеджер создает задачи: нажимает "Создать задачу", отправляет фото, затем комментарий
4. Исполнитель просматривает задачи, выбирает задачу, нажимает "Выполнено" и отправляет фото результата
5. Менеджер проверяет выполненные задачи, просматривает фото до/после и утверждает или отправляет на переделку

Автор и реализатор @botsmannnn